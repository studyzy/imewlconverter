# 高级功能测试（3-advanced）

## 测试目的

验证词库转换的高级功能，包括：
- 词频过滤
- 词长过滤
- 编码转换
- UTF-8 BOM处理
- 大文件性能

## 测试用例说明

### A01 - 词频过滤
- **描述**：测试过滤低频词（词频<10）
- **输入**：唐诗300首.scel
- **参数**：`-fw:10`（过滤词频<10）
- **验证**：确认只保留词频>=10的词条

### A02 - 词长过滤（短词）
- **描述**：测试过滤短词（长度<2）
- **输入**：唐诗300首.scel
- **参数**：`-wl:2`（过滤长度<2）
- **验证**：确认只保留长度>=2的词条

### A03 - 词长过滤（长词）
- **描述**：测试过滤长词（长度>10）
- **输入**：唐诗300首.scel
- **参数**：`-wh:10`（过滤长度>10）
- **验证**：确认只保留长度<=10的词条

### A04 - 编码转换（GBK到UTF-8）
- **描述**：测试GBK编码文件转换为UTF-8
- **输入**：GBK编码的纯汉字词库
- **验证**：确认能正确读取GBK编码并输出UTF-8

### A05 - UTF-8无BOM处理
- **描述**：测试自动检测和处理UTF-8无BOM文件
- **输入**：UTF-8无BOM的纯汉字词库
- **验证**：确认能正确识别UTF-8无BOM格式

### A06 - 大文件性能测试
- **描述**：测试大文件（13MB，342K词条）的转换性能
- **输入**：诗词名句大全.scel
- **超时**：60秒
- **验证**：确认大文件能在60秒内完成转换

## 运行测试

```bash
# 运行所有高级功能测试
./run-tests.sh -s 3-advanced

# 运行所有测试套件
./run-tests.sh --all
```

## 注意事项

1. 大文件性能测试（A06）需要较长的时间，默认超时设置为60秒
2. 过滤测试的预期输出需要使用CLI工具生成
3. 编码测试需要系统支持相应的编码格式

## 维护说明

- 如需添加新的高级功能测试，请在 test-config.yaml 中添加新的测试用例
- 预期输出文件应放在 expected/ 目录下
- 使用相对路径引用测试数据文件
